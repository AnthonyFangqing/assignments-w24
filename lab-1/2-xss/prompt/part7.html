<!DOCTYPE html>
<html>
    <head>
        <title>XSS Me - Part 8</title>
    </head>
    <body>
        <h1>XSS Me - Part 8</h1>
        <p>Try to pop an alert. Then try to exfiltrate a cookie. Insert your payload into <code>http://this-url?payload=</code>.</p>
        <div id="target"></div>
        <script>
            let params = new URLSearchParams(window.location.search);
            let payload = params.get('payload');

            // Let's just... not allow any characters.
            payload = payload.replace(/[A-Za-z0-9]/g, '');

            let target = document.getElementById('target');
            // I'll even give you the XSS, but you can't use it.
            target.innerHTML = `<img src=X onerror=${payload}>`
        </script>
    </body>
</html>